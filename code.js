(()=>{"use strict";class a{static generateName(a,e,t){const n="male"===a?this.maleNames:"female"===a?this.femaleNames:[...this.maleNames,...this.femaleNames],r=n[Math.floor(Math.random()*n.length)];if("first"===(null==t?void 0:t.nameType))return"nepali"===e?this.convertToDevanagari(r):r;const i=this.surnames[Math.floor(Math.random()*this.surnames.length)];let s=r;return(null==t?void 0:t.includeMiddleName)&&(s=`${r} ${this.middleNames[Math.floor(Math.random()*this.middleNames.length)]}`),s=`${s} ${i}`,"nepali"===e?this.convertToDevanagari(s):s}static isDevanagari(a){return/[\u0900-\u097F]/.test(a)}static convertToDevanagari(a){return a.split(" ").map(a=>this.devanagariMap[a]||a).join(" ")}}a.maleNames=["Sandeep","Rajesh","Suresh","Ramesh","Dinesh","Bikash","Prakash","Ashok","Suman","Rajan","Kamal","Nabin","Sagar","Dipesh","Mahesh","Binod","Arjun","Krishna","Shyam","Hari","Gopal","Mohan","Roshan","Anil"],a.femaleNames=["Sunita","Kamala","Sita","Rita","Gita","Anita","Binita","Sabina","Purnima","Sangita","Sarita","Nirmala","Shanti","Radha","Maya","Devi","Sushila","Manju","Laxmi","Uma","Indira","Rekha","Sushma","Prema"],a.surnames=["Shrestha","Gurung","Tamang","Rai","Limbu","Magar","Thapa","Sharma","Poudel","Adhikari","Khadka","Karki","Bhattarai","Neupane","Acharya","Koirala","Pandey","Gautam","Bhandari","Joshi","Ghimire","Rijal","Sapkota","Dahal"],a.middleNames=["Kumar","Prasad","Bahadur","Lal","Das","Kumari","Raj","Man","Bir","Ratna","Chandra","Surya","Indra","Ram","Shiva","Vishnu","Mani","Prem","Ganga","Saraswati","Lakshmi"],a.devanagariMap={Sandeep:"सन्दीप",Rajesh:"राजेश",Suresh:"सुरेश",Ramesh:"रमेश",Dinesh:"दिनेश",Bikash:"बिकाश",Prakash:"प्रकाश",Ashok:"अशोक",Suman:"सुमन",Rajan:"राजन",Kamal:"कमल",Nabin:"नबिन",Sagar:"सागर",Dipesh:"दिपेश",Mahesh:"महेश",Binod:"बिनोद",Arjun:"अर्जुन",Krishna:"कृष्ण",Shyam:"श्याम",Hari:"हरि",Gopal:"गोपाल",Mohan:"मोहन",Roshan:"रोशन",Anil:"अनिल",Sunita:"सुनिता",Kamala:"कमला",Sita:"सीता",Rita:"रिता",Gita:"गीता",Anita:"अनिता",Binita:"बिनिता",Sabina:"सबिना",Purnima:"पूर्णिमा",Sangita:"संगीता",Sarita:"सरिता",Nirmala:"निर्मला",Shanti:"शान्ति",Radha:"राधा",Maya:"माया",Devi:"देवी",Sushila:"सुशिला",Manju:"मञ्जु",Laxmi:"लक्ष्मी",Uma:"उमा",Indira:"इन्दिरा",Rekha:"रेखा",Sushma:"सुष्मा",Prema:"प्रेमा",Shrestha:"श्रेष्ठ",Gurung:"गुरुङ",Tamang:"तामाङ",Rai:"राई",Limbu:"लिम्बु",Magar:"मगर",Thapa:"थापा",Sharma:"शर्मा",Poudel:"पौडेल",Adhikari:"अधिकारी",Khadka:"खड्का",Karki:"कार्की",Bhattarai:"भट्टराई",Neupane:"न्यौपाने",Acharya:"आचार्य",Koirala:"कोइराला",Pandey:"पाण्डेय",Gautam:"गौतम",Bhandari:"भण्डारी",Joshi:"जोशी",Ghimire:"घिमिरे",Rijal:"रिजाल",Sapkota:"सापकोटा",Dahal:"दाहाल",Kumar:"कुमार",Prasad:"प्रसाद",Bahadur:"बहादुर",Lal:"लाल",Das:"दास",Kumari:"कुमारी",Raj:"राज",Man:"मान",Bir:"बीर",Ratna:"रत्न",Chandra:"चन्द्र",Surya:"सूर्य",Indra:"इन्द्र",Ram:"राम",Shiva:"शिव",Vishnu:"विष्णु",Mani:"मणि",Prem:"प्रेम",Ganga:"गंगा",Saraswati:"सरस्वती",Lakshmi:"लक्ष्मी"};class e{static generateAddress(a){let e=this.provinces;a&&(e=this.provinces.filter(e=>e.name===a));const t=e[Math.floor(Math.random()*e.length)],n=t.districts[Math.floor(Math.random()*t.districts.length)],r=this.locations[n]||["Center"],i=r[Math.floor(Math.random()*r.length)],s=Math.floor(999*Math.random())+1,o=this.streetNames[Math.floor(Math.random()*this.streetNames.length)],h=this.postalCodes[n]||["44600"];return`${s} ${o}, ${i}, ${n}, ${h[Math.floor(Math.random()*h.length)]}, Nepal`}}e.provinces=[{name:"Koshi",districts:["Jhapa","Ilam","Panchthar","Taplejung","Morang","Sunsari"]},{name:"Madhesh",districts:["Saptari","Siraha","Dhanusha","Mahottari","Sarlahi","Bara"]},{name:"Bagmati",districts:["Kathmandu","Lalitpur","Bhaktapur","Nuwakot","Rasuwa","Dhading"]},{name:"Gandaki",districts:["Kaski","Syangja","Parbat","Myagdi","Baglung","Mustang"]},{name:"Lumbini",districts:["Rupandehi","Kapilvastu","Dang","Banke","Bardiya","Gulmi"]},{name:"Karnali",districts:["Surkhet","Dailekh","Jajarkot","Kalikot","Jumla","Mugu"]},{name:"Sudurpashchim",districts:["Kailali","Kanchanpur","Doti","Bajhang","Bajura","Achham"]}],e.streetNames=["Buddha Marg","King's Way","Durbar Marg","Kantipath","Ring Road","New Road","Kamal Pokhari","Maharajgunj Road","Lainchaur Road","Tripureshwor Road","Ratna Park Road","Sundhara Road","Bagbazaar Road","Dillibazaar Road","Thapathali Road","Kalimati Road","Gongabu Road","Balaju Road","Satdobato Road","Patan Road"],e.locations={Kathmandu:["Thamel","Baneshwor","New Road","Lazimpat","Maharajgunj","Baluwatar","Putalisadak"],Lalitpur:["Patan Dhoka","Jawalakhel","Kupondole","Sanepa","Pulchowk","Mangal Bazaar"],Bhaktapur:["Durbar Square","Pottery Square","Dattatraya Square","Taumadhi Square"],Kaski:["Lakeside","Mahendrapul","Prithvi Chowk","Bagar","Damside","Bindyabasini"],Jhapa:["Birtamod","Damak","Bhadrapur","Mechinagar","Kankai"],Morang:["Biratnagar","Urlabari","Sundarharaicha","Pathari"]},e.postalCodes={Kathmandu:["44600","44601","44602","44603","44604","44605"],Lalitpur:["44700","44701","44702","44703"],Bhaktapur:["44800","44801","44802"],Kaski:["33700","33701","33702"],Jhapa:["57200","57201","57202"],Morang:["56600","56601","56602"],Sunsari:["56900","56901"],Ilam:["57300","57301"],Rupandehi:["32900","32901"],Chitwan:["44200","44201"],Banke:["21900","21901"]};class t{static generatePhone(a){if("mobile"===a){const a=["98","97","96","95","94","86","85","84"];return`+977-${a[Math.floor(Math.random()*a.length)]}${Math.floor(1e7*Math.random()).toString().padStart(8,"0")}`}{const a=["1","21","25","61","71","81","91"];return`+977-${a[Math.floor(Math.random()*a.length)]}-${Math.floor(1e6*Math.random()).toString().padStart(7,"0")}`}}static generateCurrency(a){return`Rs. ${(a||Math.floor(1e5*Math.random())+100).toLocaleString("en-IN")}`}static generateDate(a){const e=new Date,t=e.toLocaleDateString("en-GB");if("ad"===a)return t;if("bs"===a){const a=e.getFullYear()+57,t=Math.floor(12*Math.random())+1,n=Math.floor(30*Math.random())+1;return`${a}/${t.toString().padStart(2,"0")}/${n.toString().padStart(2,"0")}`}return`${t} (BS: ${e.getFullYear()+57}/04/05)`}}class n{static convertToNepaliNumber(a){return a.toString().split("").map(a=>this.nepaliNumbers[parseInt(a)]).join("")}static generateDate(a,e,t){const n=(new Date).getFullYear()+56+Math.floor(3*Math.random()),r=Math.floor(12*Math.random()),i=Math.floor(30*Math.random())+1,s=Math.floor(12*Math.random()+1),o=Math.floor(60*Math.random()),h=String(o).padStart(2,"0"),l=Math.random()<.5?"AM":"PM";if("nepali"===a){const a=this.convertToNepaliNumber(n),o=this.convertToNepaliNumber(r+1),m=this.convertToNepaliNumber(i),g=this.convertToNepaliNumber(s),c=this.convertToNepaliNumber(h),d="AM"===l?"बिहानी":"बेलुकी";return"long"===e?`${a} साल ${this.nepaliMonths[r]} ${m} गते`+(t?`, ${d} ${g}:${c}`:""):"short"===e?`${this.nepaliMonths[r]} ${m}, ${a}`+(t?`, ${d} ${g}:${c}`:""):`${a}/${o.padStart(2,"०")}/${m.padStart(2,"०")}`+(t?`, ${d} ${g}:${c}`:"")}return"long"===e?`${i} ${this.englishMonths[r]} ${n} BS`+(t?`, ${s}:${h} ${l}`:""):"short"===e?`${this.englishMonths[r]} ${i}, ${n}`+(t?`, ${s}:${h} ${l}`:""):`${n}/${(r+1).toString().padStart(2,"0")}/${i.toString().padStart(2,"0")}`+(t?`, ${s}:${h} ${l}`:"")}}n.nepaliMonths=["बैसाख","जेठ","असार","साउन","भदौ","असोज","कार्तिक","मंसिर","पुष","माघ","फागुन","चैत्र"],n.englishMonths=["Baisakh","Jestha","Ashar","Shrawan","Bhadra","Ashoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],n.nepaliNumbers=["०","१","२","३","४","५","६","७","८","९"];class r{static async insertText(a,e){const t=e||figma.currentPage.selection;if(0===t.length){const e=figma.createText();await figma.loadFontAsync({family:"Inter",style:"Regular"}),e.characters=a,e.x=figma.viewport.center.x,e.y=figma.viewport.center.y,figma.currentPage.appendChild(e),figma.currentPage.selection=[e],figma.viewport.scrollAndZoomIntoView([e])}else for(const e of t)"TEXT"===e.type&&(await figma.loadFontAsync(e.fontName),e.characters=a)}static async insertImage(a,e){try{if(0===(e||figma.currentPage.selection).length){const a=figma.createRectangle();a.resize(200,200),a.x=figma.viewport.center.x,a.y=figma.viewport.center.y,a.fills=[{type:"SOLID",color:{r:.8,g:.8,b:.8}}],figma.currentPage.appendChild(a),figma.currentPage.selection=[a],figma.viewport.scrollAndZoomIntoView([a])}}catch(a){console.error("Failed to insert image:",a)}}static async bulkInsert(a,e){const t=figma.currentPage.selection;if(0===t.length){for(let t=0;t<a.length;t++){const n=a[t];if("text"===e){const a=figma.createText();await figma.loadFontAsync({family:"Inter",style:"Regular"}),a.characters=n,a.x=figma.viewport.center.x,a.y=figma.viewport.center.y+40*t,figma.currentPage.appendChild(a)}}figma.currentPage.selection=figma.currentPage.children.slice(-a.length),figma.viewport.scrollAndZoomIntoView(figma.currentPage.selection)}else for(let n=0;n<Math.min(t.length,a.length);n++){const r=t[n],i=a[n];"text"===e&&"TEXT"===r.type&&(await figma.loadFontAsync(r.fontName),r.characters=i)}}}figma.showUI(__html__,{width:400,height:600}),figma.ui.onmessage=async i=>{try{switch(i.type){case"generate-name":{const e=figma.currentPage.selection.filter(a=>"TEXT"===a.type);if(0===e.length){const e=a.generateName(i.gender,i.language,{includeMiddleName:i.includeMiddleName,nameType:i.nameType});await r.insertText(e)}else{for(const t of e){const e=a.generateName(i.gender,i.language,{includeMiddleName:i.includeMiddleName,nameType:i.nameType});await figma.loadFontAsync(t.fontName),t.characters=e}figma.notify(`Updated ${e.length} text layer${e.length>1?"s":""}`)}break}case"generate-address":{const a=figma.currentPage.selection.filter(a=>"TEXT"===a.type);if(0===a.length){const a=e.generateAddress(i.province);await r.insertText(a)}else{for(const t of a){const a=e.generateAddress(i.province);await figma.loadFontAsync(t.fontName),t.characters=a}figma.notify(`Updated ${a.length} text layer${a.length>1?"s":""}`)}break}case"generate-nepali-date":{const a=figma.currentPage.selection.filter(a=>"TEXT"===a.type);if(0===a.length){const a=n.generateDate(i.language,i.format);await r.insertText(a)}else{for(const e of a){const a=n.generateDate(i.language,i.format,i.includeTime);await figma.loadFontAsync(e.fontName),e.characters=a}figma.notify(`Updated ${a.length} text layer${a.length>1?"s":""}`)}break}case"generate-phone":{const a=t.generatePhone(i.phoneType);i.insert?await r.insertText(a):figma.ui.postMessage({type:"phone-generated",content:a});break}case"generate-currency":{const a=t.generateCurrency(i.amount);i.insert?await r.insertText(a):figma.ui.postMessage({type:"currency-generated",content:a});break}case"generate-date":{const a=t.generateDate(i.format);i.insert?await r.insertText(a):figma.ui.postMessage({type:"date-generated",content:a});break}case"insert-image":await r.insertImage(i.imageUrl||"");break;case"insert-text":await r.insertText(i.content||"");break;case"close-plugin":figma.closePlugin()}}catch(a){console.error("Plugin error:",a),figma.notify("An error occurred. Please try again.")}},figma.on("selectionchange",()=>{const a=figma.currentPage.selection,e={count:a.length,types:a.map(a=>a.type),hasText:a.some(a=>"TEXT"===a.type)};figma.ui.postMessage({type:"selection-changed",selection:e})})})();